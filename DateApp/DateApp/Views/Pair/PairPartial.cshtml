@model PairPartialViewModel



<div id="PartialMatch" style=" min-height:1900px; border:solid;">
    <div class="row">
        <div style="min-height:610px;" class="col-lg-12">


            @if (Model.match != null && Model.match.PairId != "")
            {
            <div class="row">
                @*<div class="col-lg-12">
            <img alt="0" class="img-thumbnail" src="@Model.match.PairMainPhotoPath" style="width:500px;height:500px;">
            <p>@Model.match.PairId</p>
        </div>*@

                <div class="col-lg-12 text-center">
                    <form class="formPairDetails" @*id="GoToPair" *@ asp-action="GoToPair" asp-controller="Pair" method="post">
                        <input type="hidden" value=@Model.match.PairId name="PairId" />
                        <img class="img-thumbnail" style="border-style:outset;width:400px;height:400px;" @*alt=@Model.match.PairMail*@ src=@Model.match.PairMainPhotoPath width="100" height="100">
                        <div>
                            <label>@Model.match.PairMail</label>
                        </div>

                    </form>
                </div>







                <div class="col col-1"></div>

                <div class="choose text  col-lg-10">

                    <form id="NextMatchCancel" asp-action="ShowNextMatch" asp-controller="Pair">
                        <input id="CancelId" name="Id" type="hidden" value="@Model.match.PairId">
                        <input id="CancelDecision" name="Decision" type="hidden" value="Cancel" />
                        <button type="button" class="btn btn-danger">Odrzuć</button>

                    </form>
                    @if (Model.match.action.LikeAvailable)
                    {
                        <form id="NextMatchAccept" asp-action="ShowNextMatch" asp-controller="Pair">
                            <input id="AcceptId" type="hidden" value="@Model.match.PairId">
                            <input id="AcceptDecision" type="hidden" value="Accept" />
                            <button type="button" class="btn btn-warning">Potwierdź</button>
                        </form>
                    }
                    else
                    {
                        <div>
                            <button type="button" class="btn btn-outline-warning" disabled>Potwierdź</button>
                        </div>

                    }

                    @if (Model.match.action.SuperLikeAvailable)
                    {

                        <form id="NextMatchSuperLike" asp-action="ShowNextMatch" asp-controller="Pair">
                            <input id="SuperLikeId" type="hidden" value="@Model.match.PairId">
                            <input id="SuperLikeDecision" type="hidden" value="SuperLike" />
                            <button type="button" class="btn btn-info">Super Like</button>
                        </form>

                    }
                    else
                    {
                        <div>
                            <button type="button" class="btn btn-outline-info" disabled>Super Like</button>
                        </div>
                    }

                </div>
                <div class="col col-1"></div>

                <div class="col col-lg-12">
                    <div class="col col-1"></div>
                    <div class="col col-10 text-center">
                        @Model.match.action.Message
                    </div>
                    <div class="col col-1"></div>
                   
                </div>

              

                <div class="row">
                    <div class="col col-1"></div>
                    <div class="col col-lg-10 text-center ">
                        @Html.Partial("TomTomMarkers", Model)
                    </div>
                    <div class="col col-1"></div>

                </div>








            </div>
            }







        </div>
    </div>


</div>

<script>


    $("#NextMatchCancel").on("click", function () {


        var data = {};
        data["Id"] = $("#CancelId").val();
        data["Decision"] = $("#CancelDecision").val();
 $.ajax({
     url: '@Url.Action("ShowNextMatch", "Pair")',
     type: "post",
     contentType: 'application/x-www-form-urlencoded',
     data: data,
     headers: {
         RequestVerificationToken:
             $('input:hidden[name="__RequestVerificationToken"]').val()
     },
     success: function (result) {
         $("#PartialMatch").html(result);

     }
 });


    }
    );
    /////
    $("#NextMatchAccept").on("click", function () {


        var data = {};
        data["Id"] = $("#AcceptId").val();
        data["Decision"] = $("#AcceptDecision").val();
 $.ajax({
     url: '@Url.Action("ShowNextMatch", "Pair")',
     type: "post",
     contentType: 'application/x-www-form-urlencoded',
     data: data,
     headers: {
         RequestVerificationToken:
             $('input:hidden[name="__RequestVerificationToken"]').val()
     },
     success: function (result) {
         $("#PartialMatch").html(result);

     }
 });


    }
    );
    /////
    $("#NextMatchSuperLike").on("click", function () {


        var data = {};
        data["Id"] = $("#SuperLikeId").val();
        data["Decision"] = $("#SuperLikeDecision").val();
 $.ajax({
     url: '@Url.Action("ShowNextMatch", "Pair")',
     type: "post",
     contentType: 'application/x-www-form-urlencoded',
     data: data,
     headers: {
         RequestVerificationToken:
             $('input:hidden[name="__RequestVerificationToken"]').val()
     },
     success: function (result) {
         $("#PartialMatch").html(result);
         ////




         ////

     }
 });


    }
    );

    ///////Update Matches


    $(".choose button").on("click", function () {


        $.ajax({
     url: '@Url.Action("UpdateMatches", "Pair")',
     type: "post",
     contentType: 'application/x-www-form-urlencoded',
     headers: {
         RequestVerificationToken:
             $('input:hidden[name="__RequestVerificationToken"]').val()
     },
            success: function (result) {

         $("#PairOptionsMatch").html(result);

     }
 });

    });


</script>




