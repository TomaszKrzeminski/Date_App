@*@model string*@




<div class="container-fluid">
    <div class="row">
        <div class="col-lg-12" id="Notify">
           
        </div>

    </div>
</div>










<script>



      ////Signal R


    var connectionNoti = new signalR.HubConnectionBuilder().withUrl("/checknotify").build();






    connectionNoti.on("CheckAllNotifications", function (UserId) {     


     var data = {};
  
     data["Id"] = UserId;


        $.ajax({
     url: '@Url.Action("CheckNotifty", "Notification")',
     type: "get",
     contentType: 'application/x-www-form-urlencoded',
     data: data,
     headers: {
         RequestVerificationToken:
             $('input:hidden[name="__RequestVerificationToken"]').val()
     },
            success: function (result) {

         $("#Notify").html(result);

                /// Odśwież statusy

     }
 });
          /////////////////

        

    });

       


    connectionNoti.start().then(

      

    ).catch(function (err) {
        //alert("Błąd  w Notification checker"+ err);

    }).then(() => {

        //Update();

    });










    //////














 




</script>














@*<script>


    (function () {


        var interval = 20000;
 setInterval(function() {Update()}, interval);

 function Update(){


     var data = {};
    var UserId =@Html.Raw( Json.Serialize(@Model));
     data["Id"] = UserId;


        $.ajax({
     url: '@Url.Action("CheckNotifty", "Notification")',
     type: "get",
     contentType: 'application/x-www-form-urlencoded',
     data: data,
     headers: {
         RequestVerificationToken:
             $('input:hidden[name="__RequestVerificationToken"]').val()
     },
            success: function (result) {

         $("#Notify").html(result);

                /// Odśwież statusy

     }
 });


        }



    })();


</script>*@